{% extends "frontend/layout/base_other.html" %}


{% block myotherstyle %}

<style>

</style>

{% endblock %}

{% block content %}
<style>
    #site {
	 display: flex;
	 flex-direction: column;
	 min-height: 100vh;
}
 .player {
	 margin: auto;
	 max-width: 95%;
	 padding: 1em;
}
 .player__video {
	 height: 0;
	 overflow: hidden;
	 padding-bottom: 56.25%;
	 position: relative;
}
 .player__video iframe {
	 height: 80%;
	 position: absolute;
	 top: 15%;
	 left: 0;
	 width: 100%;
}
 .gallery {
	 background-color: green;
	 padding: 1em;
}
 .gallery__item {
	 align-items: center;
	 background-color: green;
     border: 1px yellowgreen solid;
	 color: white;
	 cursor: pointer;
	 display: flex;
	 justify-content: center;
	 padding: 0 0.75em;
}
 .gallery__item__img {
	 width: 40%;
}
 .gallery__item__span {
	 padding-left: 1em;
	 text-shadow: 1px 1px 2px red;
	 width: 60%;
}
 @media screen and (min-width: 30em) {
	 .gallery {
		 display: grid;
		 grid-template-columns: repeat(2, 1fr);
		 grid-gap: 0.75em;
	}
}
 @media screen and (min-width: 48em) {
	 .gallery {
		 grid-template-columns: repeat(3, 1fr);
	}
}
 @media screen and (min-width: 60em) {
	 .gallery {
		 grid-template-columns: repeat(4, 1fr);
	}
}
 
</style>


<div id="site">
    <div id="player">
      <div class="player">
        <div class="player__video">
          <!-- Current video is for reference only. It will be generated by JavaScript code. -->
          <iframe id="current-video"  height="315" src=" https://www.youtube.com/embed/es4x5R-rV9sI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
        </div>
      </div>
    </div>
    <div id="gallery">
      <div class="gallery">It will be generated by JavaScript code.</div>
    </div>
  </div>

  <script>
      ;

// YouTube sintaxis for embedded videos and images

const ytVideoPrefix = `https://www.youtube.com/embed/`
const ytImagePathPrefix = `https://i.ytimg.com/vi/`
const ytImagePathSufix = `/hqdefault.jpg`

// Array of Videos

let arrVideos = [
  
  {name: 'Amazon', data: 'es4x5R-rV9s'},
  {name: 'wildlife', data: 'AhP5Tg_BLIk'},
  {name: 'Forest', data: '257RIxEXPbQ'},
  {name: 'Amazon', data: 'es4x5R-rV9s'},]

// Current video

let currentVideo = document.getElementById('current-video')
currentVideo.src = `${ytVideoPrefix}${arrVideos[0].data}`

// Add .gallery__items to .gallery

let gallery = document.querySelector('.gallery')
gallery.innerHTML = ``

for (let i = 0; i < arrVideos.length; i++) {
  gallery.innerHTML += `
    <div class="gallery__item" data="${arrVideos[i].data}">
      <img class="gallery__item__img" src="${ytImagePathPrefix}${arrVideos[i].data}${ytImagePathSufix}">
      <span class="gallery__item__span">${arrVideos[i].name}</span>
    </div>`
}

// Add event listeners

gallery.addEventListener('click', (e) => {
  // When click on .gallery__item element
  if (e.target.classList.contains('gallery__item')) {
    currentVideo.src = `${ytVideoPrefix}${e.target.getAttribute('data')}`
  }
  // When click on .gallery__item__img element
  if (e.target.classList.contains('gallery__item__img')) {
    let data = e.target.src
    data = data.replace(ytImagePathPrefix, '')
    data = data.replace(ytImagePathSufix, '')
    currentVideo.src = `${ytVideoPrefix}${data}`
  }
  // When click on .gallery__item__span element
  if (e.target.classList.contains('gallery__item__span')) {
    console.log(e.target.innerText)
    for (let i = 0; i < arrVideos.length; i++) {
      if (arrVideos[i].name === e.target.innerText) {
        currentVideo.src = `${ytVideoPrefix}${arrVideos[i].data}`
      }
    }
  }
})

  </script>
    {% endblock %}

    {% block myotherjs %}

    {% endblock %}