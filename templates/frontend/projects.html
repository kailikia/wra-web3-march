{% extends "frontend/layout/base_other.html" %}

{% block myotherstyle %}

{% endblock %}

{% block content %}

<div id="content" class="site-content | js-site-content">
    <main id="main" class="site-main site-main--404">

        <div class="page-404">
            <div class="page-404__bg" style="background-image: url('static/assets/images/sea.png')">
            </div>
            <div class="page-404__content page-404__content--privacy">


                </style>

                <div id="chartdiv"></div>



                <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
                <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
                <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
                <script src="https://cdn.amcharts.com/lib/5/geodata/kenyaLow.js"></script>
                <script>


                    am5.ready(function () {

                        // Create root element
                        // https://www.amcharts.com/docs/v5/getting-started/#Root_element
                        var root = am5.Root.new("chartdiv");

                        // Set themes
                        // https://www.amcharts.com/docs/v5/concepts/themes/
                        root.setThemes([
                            am5themes_Animated.new(root)
                        ]);

                        // Create the map chart
                        // https://www.amcharts.com/docs/v5/charts/map-chart/
                        var chart = root.container.children.push(
                            am5map.MapChart.new(root, {
                                panX: "none",
                                panY: "none",
                                projection: am5map.geoMercator(),
                            })
                        );

                        var cont = chart.children.push(
                            am5.Container.new(root, {
                                layout: root.horizontalLayout,
                                x: 20,
                                y: 40,

                            })
                        );

                        // Create main polygon series for countries
                        // https://www.amcharts.com/docs/v5/charts/map-chart/map-polygon-series/
                        var polygonSeries = chart.series.push(
                            am5map.MapPolygonSeries.new(root, {
                                geoJSON: am5geodata_kenyaLow,
                            })
                        );


                        polygonSeries.mapPolygons.template.setAll({
                            tooltipText: "{name} {value}",
                        });


                        // Create point series for markers
                        // https://www.amcharts.com/docs/v5/charts/map-chart/map-point-series/
                        var pointSeries = chart.series.push(am5map.MapPointSeries.new(root, {}));
                        var colorset = am5.ColorSet.new(root, {});


                        pointSeries.bullets.push(function () {
                            var container = am5.Container.new(root, {});

                            var circle = container.children.push(
                                am5.Circle.new(root, {
                                    radius: 4,
                                    tooltipY: 0,
                                    fill: colorset.next(),
                                    strokeOpacity: 0,
                                    tooltipText: "{title}",
                                })
                            );

                            var circle2 = container.children.push(
                                am5.Circle.new(root, {
                                    radius: 4,
                                    tooltipY: 0,
                                    fill: colorset.next(),
                                    strokeOpacity: 0,
                                    tooltipText: "{title}",
                                })
                            );

                            circle.animate({
                                key: "scale",
                                from: 1,
                                to: 5,
                                duration: 600,
                                easing: am5.ease.out(am5.ease.cubic),
                                loops: Infinity
                            });
                            circle.animate({
                                key: "opacity",
                                from: 1,
                                to: 0,
                                duration: 600,
                                easing: am5.ease.out(am5.ease.cubic),
                                loops: Infinity
                            });

                            return am5.Bullet.new(root, {
                                sprite: container
                            });
                        });


                        var cities = [
                            {
                                title: "Mamase Sustainable Water Initiative:.....",
                                latitude: 1.2921,
                                longitude: 36.8219
                            },
                            {
                                title: "....",
                                latitude: 1.7488,
                                longitude: 40.0586
                            },
                            {
                                title: "....",
                                latitude: 0.0236,
                                longitude: 37.9062
                            },

                        ];

                        for (var i = 0; i < cities.length; i++) {
                            var city = cities[i];
                            addCity(city.longitude, city.latitude, city.title);
                        }

                        function addCity(longitude, latitude, title) {
                            pointSeries.data.push({
                                geometry: { type: "Point", coordinates: [longitude, latitude] },
                                title: title
                            });
                        }

                        // Make stuff animate on load
                        // chart.appear(1000, 100);
                        // chart.tooltipText.label.maxWidth = 40;
                        // chart.tooltipText.label.wrap = true;
                        // chart.zoomControl = new am5maps.ZoomControl();


                    });// end am5.ready()


                </script>
            </div>
        </div>
    </main><!-- #main -->


</div><!-- #content -->

{% endblock %}

{% block myotherjs %}

{% endblock %}